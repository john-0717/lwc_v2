{
  "paths": {
    "/employer/add-new-job": {
      "post": {
        "tags": ["Employer"],
        "description": "Employer add new job",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "Employer add new job",
            "schema": {
              "$ref": "#/definitions/add-new-job-request"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization token",
            "type": "string",
            "required": true
          },
          {
            "name": "employerId",
            "in": "header",
            "description": "employer id",
            "type": "string"
          }
        ],
        "security": {
          "basicAuth": []
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Employer add new job response depends on save draft and publish job buttons",
            "schema": {
              "$ref": "#/definitions/add-new-job-response"
            }
          }
        }
      }
    },
    "/employer/save-draft-job": {
      "post": {
        "tags": ["Employer"],
        "description": "Employer draft a job",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "Employer draft a job",
            "schema": {
              "$ref": "#/definitions/add-new-job-request"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization token",
            "type": "string",
            "required": true
          },
          {
            "name": "employerId",
            "in": "header",
            "description": "employer id",
            "type": "string"
          }
        ],
        "security": {
          "basicAuth": []
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Employer add new job response depends on save draft and publish job buttons",
            "schema": {
              "$ref": "#/definitions/add-new-job-response"
            }
          }
        }
      }
    },
    "/employer/ansco-search": {
      "post": {
        "tags": ["Employer"],
        "description": "Employer ansco search",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "Employer ansco search",
            "schema": {
              "$ref": "#/definitions/ansco-search-request"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization token",
            "type": "string",
            "required": true
          }
        ],
        "security": {
          "basicAuth": []
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Employer add new job response depends on save draft and publish job buttons",
            "schema": {
              "$ref": "#/definitions/add-new-job-response"
            }
          }
        }
      }
    },
    "/employer/edit-job": {
      "post": {
        "tags": ["Employer"],
        "description": "Employer edit job",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "Employer edit job",
            "schema": {
              "$ref": "#/definitions/edit-job-Request"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization token",
            "type": "string",
            "required": true
          },
          {
            "name": "employerId",
            "in": "header",
            "description": "employer id",
            "type": "string"
          }
        ],
        "security": {
          "basicAuth": []
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/edit-job-Response"
            }
          }
        }
      }
    },
    "/user/job-details": {
      "get": {
        "tags": ["Employer"],
        "description": "job details based on jobId",
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "get job details by jobId",
            "schema": {
              "type": "String",
              "example": "641804483404984d4de40f06"
            }
          }
        ],
        "security": {
          "basicAuth": []
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Employer list of published jobs",
            "schema": {
              "$ref": "#/definitions/job-details-response"
            }
          }
        }
      }
    },
    "/employer/job-details/applicant-listing": {
      "get": {
        "tags": ["Employer"],
        "description": "job details based on jobId",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization token",
            "type": "string",
            "required": true
          },
          {
            "name": "jobId",
            "in": "query",
            "description": "get job details by jobId",
            "schema": {
              "type": "String",
              "example": "641804483404984d4de40f06"
            }
          },
          {
            "name": "searchText",
            "in": "query",
            "description": "search with text (currentl matching email only , need to discuss criteria)",
            "schema": {
              "type": "String",
              "example": "john"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "page (required mostly)",
            "schema": {
              "type": "Number",
              "example": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "pageSize (required mostly)",
            "schema": {
              "type": "Number",
              "example": 10
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "sortBy  (latest,oldest)",
            "schema": {
              "type": "String",
              "example": "latest"
            }
          },
          {
            "name": "immigrationStatus",
            "in": "query",
            "description": "immigrationStatus",
            "schema": {
              "type": "String",
              "example": "NZ Citizine"
            }
          },
          {
            "name": "employerId",
            "in": "header",
            "description": "employer id",
            "type": "string"
          }
        ],
        "security": {
          "basicAuth": []
        },
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "Employer list of applicants for job",
            "schema": {
              "$ref": "#/definitions/job-details-applicant-list-response"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "add-new-job-request": {
      "properties": {
        "jobTitle": {
          "type": "String",
          "example": "job title",
          "required": true
        },
        "jobType": {
          "type": "String",
          "example": "Full Time",
          "required": true
        },
        "industry": {
          "type": "String",
          "example": "Finance",
          "required": true
        },
        "location": {
          "type": "Array",
          "example": ["North sea"],
          "required": true
        },
        "country": {
          "type": "String",
          "example": "NewZeland",
          "required": true
        },
        "salary": { "type": "Boolean", "example": true },
        "payRateFrom": { "type": "Number", "example": 25 },
        "payRateTo": { "type": "Number", "example": 35 },
        "hoursPerWeek": { "type": "Number", "example": 8 },
        "isBonusAllowed": { "type": "Boolean", "example": true },
        "bonusAmount": { "type": "Number", "example": 25 },
        "earningPerWeek": { "type": "Number", "example": 5 },
        "paymentFrequency": { "type": "String", "example": "monthly" },
        "mandatoryQualificationName": {
          "type": "String",
          "example": "qualification name"
        },
        "mandatoryQualificationLevel": {
          "type": "String",
          "example": "fromAdmin"
        },
        "optionalQualificationName": {
          "type": "String",
          "example": "optional qualification name"
        },
        "optionalQualificationLevel": {
          "type": "String",
          "example": "fromAdmin"
        },
        "mandatoryExperience": { "type": "String", "example": "fromAdmin" },
        "optionalExperience": { "type": "String", "example": "fromAdmin" },
        "isQualificationExpRequired": { "type": "Boolean", "example": true },
        "qualificationDescription": {
          "type": "String",
          "example": "some description about"
        },
        "isNzRegistration": { "type": "Boolean", "example": true },
        "nzRegistrationDetails": {
          "type": "String",
          "example": "some description"
        },
        "jobDuties": { "type": "String", "example": "job duties" },
        "jobSkills": { "type": "Array", "example": ["java", "python"] },
        "skillLevel": { "type": "String", "example": "Beginer" },
        "otherInfo": { "type": "String", "example": "other infoo" },
        "status": {
          "type": "String",
          "example": "Draft/Published/Expired",
          "required": true
        },
        "aboutUs": { "type": "String", "example": "company about us" },
        "addOnId": { "type": "String", "example": "641804483404984d4de40f06" },
        "addOnFee": { "type": "Number", "example": 200 },
        "totalFee": { "type": "Number", "example": 100 },
        "stripeResponse": { "type": "Object", "example": {} },
        "stripeResponseMessage": { "type": "String", "example": "Success" },
        "taxFee": { "type": "Number", "example": 122 },
        "gst": { "type": "Number", "example": 18 }
      },
      "required": [
        "jobTitle",
        "jobType",
        "jobDescription",
        "jobLocation",
        "salary",
        "payRateFrom",
        "payRateTo",
        "hoursPerWeek",
        "isBonusAllowed",
        "bonusAmount",
        "earningPerWeek",
        "paymentFrequency",
        "mandatoryQualificationName",
        "mandatoryQualificationLevel",
        "optionalQualificationName",
        "optionalQualificationLevel",
        "mandatoryExperience",
        "optionalExperience",
        "isQualificationExpRequired",
        "isNzRegistration",
        "jobDuties",
        "status",
        "country"
      ]
    },
    "add-new-job-response": {
      "properties": {
        "status": {
          "type": "Boolean",
          "example": true
        },
        "message": {
          "type": "string",
          "example": "Job published successfully (or) Job saved successfully"
        },
        "data": {
          "type": "Object",
          "example": {}
        }
      }
    },
    "ansco-search-request": {
      "properties": {
        "searchText": {
          "type": "String",
          "example": "title",
          "required": true
        },
        "id": {
          "type": "String",
          "example": "646edbe8252246c5102eb92c",
          "required": true
        }
      }
    },
    "ansco-search-response": {
      "properties": {
        "status": {
          "type": "Boolean",
          "example": true
        },
        "statusCode": {
          "type": "Number",
          "example": 200
        },
        "message": {
          "type": "string",
          "example": "get details successfully."
        },
        "data": {
          "type": "Object",
          "example": {
            "listing": [
              {
                "_id": "646edbbf252246c5102eb92b",
                "codeTitle": "Ti-title-123",
                "skillLevel": "skill level",
                "roleDescription": "description",
                "experience": "experience",
                "qualification": "qualification",
                "registration": "registration",
                "status": true
              },
              {
                "_id": "646ed7e1252246c5102eb928",
                "codeTitle": "title",
                "skillLevel": "skill level",
                "roleDescription": "description",
                "experience": "experience",
                "qualification": "qualification",
                "registration": "registration",
                "status": true
              }
            ]
          }
        }
      }
    },
    "edit-job-Request": {
      "required": ["id"],
      "properties": {
        "id": { "type": "String", "example": "641804483404984d4de40f06" },
        "jobTitle": { "type": "String", "example": "job title" },
        "jobType": { "type": "String", "example": "Full Time" },
        "industry": { "type": "String", "example": "Finance" },
        "location": { "type": "String", "example": "NewZeland" },
        "region": {
          "type": "Array",
          "example": ["North sea"]
        },
        "country": { "type": "String", "example": "NewZeland" },
        "salary": { "type": "Boolean", "example": true },
        "payRateFrom": { "type": "String", "example": 25 },
        "payRateTo": { "type": "String", "example": 35 },
        "hoursPerWeek": { "type": "String", "example": "8 hours" },
        "isBonusAllowed": { "type": "Boolean", "example": true },
        "bonusAmount": { "type": "Number", "example": 25 },
        "earningPerWeek": { "type": "Number", "example": 5 },
        "paymentFrequency": { "type": "String", "example": "monthly" },
        "mandatoryQualificationName": {
          "type": "String",
          "example": "qualification name"
        },
        "mandatoryQualificationLevel": {
          "type": "String",
          "example": "fromAdmin"
        },
        "optionalQualificationName": {
          "type": "String",
          "example": "optional qualification name"
        },
        "optionalQualificationLevel": {
          "type": "String",
          "example": "fromAdmin"
        },
        "mandatoryExperience": { "type": "String", "example": "fromAdmin" },
        "optionalExperience": { "type": "String", "example": "fromAdmin" },
        "isQualificationExpRequired": { "type": "Boolean", "example": true },
        "qualificationDescription": {
          "type": "String",
          "example": "some description about"
        },
        "isNzRegistration": { "type": "Boolean", "example": true },
        "nzRegistrationDetails": {
          "type": "String",
          "example": "some description"
        },
        "jobDuties": { "type": "String", "example": "job duties" },
        "jobSkills": { "type": "Array", "example": ["java", "python"] },
        "skillLevel": { "type": "String", "example": "Beiginer" },
        "otherInfo": { "type": "String", "example": "other infoo" },
        "isDeleted": { "type": "Boolean", "example": false },
        "aboutUs": { "type": "String", "example": "company about us" }
      }
    },
    "edit-job-Response": {
      "properties": {
        "status": {
          "type": "Boolean",
          "example": true
        },
        "statusCode": {
          "type": "Number",
          "example": 200
        },
        "message": {
          "type": "string",
          "example": "Data updated Successfully"
        }
      }
    },
    "job-details-response": {
      "properties": {
        "status": {
          "type": "Boolean",
          "example": true
        },
        "statusCode": {
          "type": "Number",
          "example": 200
        },
        "message": {
          "type": "string",
          "example": "get details successfully."
        },
        "data": {
          "type": "Object",
          "example": {
            "_id": "641804483404984d4de40f06",
            "userId": "641804483404984d4de40f06",
            "jobTitle": "job name",
            "jobType": "full time",
            "industry": "Finance",
            "location": "NewZeland",
            "region": ["North sea"],
            "salary": true,
            "payRateFrom": 25,
            "payRateTo": 35,
            "hoursPerWeek": "8 hours",
            "isBonusAllowed": true,
            "bonusAmount": "25k",
            "earningPerWeek": "5k",
            "paymentFrequency": "monthly",
            "mandatoryQualificationName": "qualification name",
            "mandatoryQualificationLevel": "advanced",
            "optionalQualificationName": "optional qualification name",
            "optionalQualificationLevel": "advanced",
            "mandatoryExperience": "1 year",
            "optionalExperience": "1 year",
            "isQualificationExpRequired": true,
            "qualificationDescription": "some description about",
            "isNzRegistration": true,
            "nzRegistrationDetails": "some description",
            "jobDuties": "job duties",
            "jobSkills": ["python", "python"],
            "otherInfo": "other infoo",
            "isDeleted": false,
            "status": "Published",
            "startDate": 123456789123,
            "endDate": 123456789123,
            "companyName": "test",
            "applications": 0,
            "jobPeriod": "43 minutes ago",
            "aboutUs": "company about us"
          }
        }
      }
    },
    "job-details-applicant-list-response": {
      "properties": {
        "status": {
          "type": "Boolean",
          "example": true
        },
        "statusCode": {
          "type": "Number",
          "example": 200
        },
        "message": {
          "type": "string",
          "example": "get details successfully."
        },
        "data": {
          "type": "Object",
          "example": {
            "listing": [
              {
                "isRegisteredInNZ": false,
                "isRegisteredOutsideNZ": false,
                "_id": "6474118e7b78d831e9c11888",
                "jobId": "615b3c8aef278a001f5f5aeb",
                "userId": "615b3c8aef278a001f5f5aec",
                "addressLine": "000 Example Street",
                "addressCountry": "United States",
                "addressCity": "New York",
                "addressRegion": "new",
                "position": "Software Engineer",
                "email": "john2@example.com",
                "firstName": "John2",
                "lastName": "Doe2",
                "phone": 1234567890,
                "phoneCode": "+1",
                "about": "Experienced software engineer with a passion for building scalable applications.",
                "immigrationStatus": "Permanent Resident",
                "preferedContactTime": ["Morning", "Afternoon"],
                "preferedContactMethod": ["Email", "Phone"],
                "coverLetter": "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
                "availability": "Immediate",
                "healthIssue": false,
                "pastConviction": false,
                "qualificationDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07b8",
                    "qualificationName": "test"
                  }
                ],
                "experienceDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07b9",
                    "companyName": "test company",
                    "duration": 5
                  }
                ],
                "certificationDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07ba",
                    "certificateName": "test"
                  }
                ],
                "registrationDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07bb"
                  }
                ],
                "skills": ["JavaScript", "Node.js", "React"],
                "isChatActive": true,
                "applicantStatus": "pending",
                "employerStatus": "active",
                "profileUrl": "https://example.com/johndoe",
                "applicationId": 123456789,
                "createdAt": 1678901342,
                "updatedAt": 1678905678,
                "OutsideNZRegistrationDetails": [],
                "isLatest": false
              },
              {
                "isRegisteredInNZ": false,
                "isRegisteredOutsideNZ": false,
                "_id": "647362696f842ea851491400",
                "jobId": "615b3c8aef278a001f5f5aeb",
                "userId": "615b3c8aef278a001f5f5aec",
                "addressLine": "123 Example Street",
                "addressCountry": "United States",
                "addressRegion": "new",
                "addressCity": "New York",
                "position": "Software Engineer",
                "email": "john@example.com",
                "firstName": "John",
                "lastName": "Doe",
                "phone": 1234567890,
                "phoneCode": "+1",
                "about": "Experienced software engineer with a passion for building scalable applications.",
                "immigrationStatus": "Permanent Resident",
                "preferedContactTime": ["Morning", "Afternoon"],
                "preferedContactMethod": ["Email", "Phone"],
                "coverLetter": "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
                "availability": "Immediate",
                "healthIssue": false,
                "pastConviction": false,
                "qualificationDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07bc",
                    "qualificationName": "test"
                  }
                ],
                "experienceDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07bd",
                    "companyName": "test company",
                    "duration": 2
                  }
                ],
                "certificationDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07be",
                    "certificateName": "test"
                  }
                ],
                "registrationDetails": [
                  {
                    "_id": "64741718dc054d88ea2e07bf"
                  }
                ],
                "skills": ["JavaScript", "Node.js", "React"],
                "isChatActive": true,
                "applicantStatus": "pending",
                "employerStatus": "active",
                "profileUrl": "https://example.com/johndoe",
                "applicationId": 123456789,
                "createdAt": 1678901234,
                "updatedAt": 1678905678,
                "OutsideNZRegistrationDetails": [],
                "isLatest": true
              }
            ],
            "total": 2,
            "page": "1",
            "pageSize": "10"
          }
        }
      }
    }
  }
}
